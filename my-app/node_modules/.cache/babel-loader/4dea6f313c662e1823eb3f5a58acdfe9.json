{"ast":null,"code":"function Node(row, col) {\n  return document.getElementById(`node-${row}-${col}`);\n} // Gets a node from the screen\n\n\nfunction pushToScreen(grid) {\n  for (let row = 0; row < 9; row++) {\n    for (let col = 0; col < 9; col++) {\n      Node(row, col).value = grid[row][col];\n    }\n  }\n}\n\nfunction shuffle(array) {\n  array.sort(() => Math.random() - 0.5);\n}\n\nfunction removeElement(arrayName, arrayElement) {\n  for (var j = 0; j < arrayName.length; j++) {\n    for (var i = 0; i < arrayName.length; i++) {\n      if (arrayName[i] === arrayElement) arrayName.splice(i, 1);\n    }\n  }\n} //Fills in grid by rows\n// function fillInZeros(grid) {\n//     let nums= [1,2,3,4,5,6,7,8,9]\n//     for(let row = 0; row < 9; row++) {\n//         for (let col = 0; col < 9; col ++){\n//             if (grid[row][col] !== 0) {\n//                 nums[grid[row][col] - 1] = 0\n//             }\n//         }\n//         console.log(nums)\n//         removeElement(nums,0)\n//         console.log(nums)\n//         shuffle(nums)\n//         for (let col = 0; col < 9; col ++){\n//             if (grid[row][col] === 0) {\n//                 grid[row][col] = nums.pop()\n//             }\n//         }\n//         nums= [1,2,3,4,5,6,7,8,9]\n//     }\n// }\n//fills in grid by squares\n\n\nfunction fillInZeros(grid) {\n  let nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n  let squareRow = 0;\n  let squareCol = 0;\n\n  for (let square = 0; square < 9; square++) {\n    for (let row = squareRow; row < 3 + squareRow; row++) {\n      for (let col = squareCol; col < 3 + squareCol; col++) {\n        if (grid[row][col] !== 0) {\n          nums[grid[row][col] - 1] = 0;\n        }\n      }\n    }\n\n    removeElement(nums, 0);\n    shuffle(nums);\n\n    for (let row = squareRow; row < 3 + squareRow; row++) {\n      for (let col = squareCol; col < 3 + squareCol; col++) {\n        if (grid[row][col] === 0) {\n          grid[row][col] = nums.pop();\n        }\n      }\n    }\n\n    nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n\n    if (squareCol !== 6) {\n      squareCol = squareCol + 3;\n    } else {\n      squareCol = 0;\n      squareRow = squareRow + 3;\n    }\n  }\n\n  pushToScreen(grid);\n}\n\nfunction energy(grid) {\n  let E = 0;\n  let seen = []; //check the rows\n\n  for (let row = 0; row < 9; row++) {\n    for (let col = 0; col < 9; col++) {\n      if (seen.includes(grid[row][col])) {\n        E = E + 1;\n      } else {\n        seen.push(grid[row][col]);\n      }\n    }\n\n    seen = [];\n  } //check the columns\n\n\n  for (let col = 0; col < 9; col++) {\n    for (let row = 0; row < 9; row++) {\n      if (seen.includes(grid[row][col])) {\n        E = E + 1;\n      } else {\n        seen.push(grid[row][col]);\n      }\n    }\n\n    seen = [];\n  }\n\n  return E;\n}\n\nfunction getRandomInt(max) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n\nfunction getImmutableSquares(mutable) {\n  let count = 0;\n  let immutableSquares = [];\n  let squareRow = 0;\n  let squareCol = 0;\n\n  for (let square = 0; square < 9; square++) {\n    for (let row = squareRow; row < 3 + squareRow; row++) {\n      for (let col = squareCol; col < 3 + squareCol; col++) {\n        if (!mutable[row][col]) {\n          count++;\n        }\n      }\n    }\n\n    if (count >= 8) {\n      immutableSquares.push([squareRow, squareCol]);\n    }\n\n    count = 0;\n\n    if (squareCol !== 6) {\n      squareCol = squareCol + 3;\n    } else {\n      squareCol = 0;\n      squareRow = squareRow + 3;\n    }\n  }\n\n  return immutableSquares;\n}\n\nfunction getNode2(mutable, row1, row2, col1, col2, squareRow, squareCol) {\n  if (!mutable[row2][col2]) {\n    return getNode2(mutable, row1, getRandomInt(3) + squareRow, col1, getRandomInt(3) + squareCol, squareRow, squareCol);\n  } else {\n    if (row1 === row2 && col1 === col2) {\n      return getNode2(mutable, row1, getRandomInt(3) + squareRow, col1, getRandomInt(3) + squareCol, squareRow, squareCol);\n    } else {\n      console.log(row1, row2, col1, col2);\n      return {\n        row2,\n        col2\n      };\n    }\n  }\n}\n\nfunction move(grid, mutable, T, moves, immutableSquares) {\n  //pick a random square\n  let squareRow = 3 * getRandomInt(3);\n  let squareCol = 3 * getRandomInt(3); //to handle case where a full square in immutable\n\n  for (let i = 0; i < immutableSquares.length; i++) {\n    while (squareRow === immutableSquares[i][0] && squareCol === immutableSquares[i][1]) {\n      squareRow = 3 * getRandomInt(3);\n      squareCol = 3 * getRandomInt(3);\n    }\n  } //pick a random 2 nodes in that square that aren't the same\n\n\n  let row1 = getRandomInt(3) + squareRow;\n  let col1 = getRandomInt(3) + squareCol;\n  let row2 = getRandomInt(3) + squareRow;\n  let col2 = getRandomInt(3) + squareCol;\n\n  while (!mutable[row1][col1]) {\n    row1 = getRandomInt(3) + squareRow;\n    col1 = getRandomInt(3) + squareCol;\n  }\n\n  let node2 = getNode2(mutable, row1, row2, col1, col2, squareRow, squareCol);\n  row2 = node2.row2;\n  col2 = node2.col2;\n  let EC = energy(grid);\n\n  if (EC === 0) {\n    return;\n  } //swap their values\n\n\n  let temp = grid[row2][col2];\n  grid[row2][col2] = grid[row1][col1];\n  grid[row1][col1] = temp;\n  let EN = energy(grid); //If new energy is less, keep new grid\n\n  if (EN < EC) {\n    moves.push([row1, col1, grid[row1][col1], EN], [row2, col2, grid[row2][col2], EN]);\n  } else {\n    //otherwise swap back to keep original grid\n    temp = grid[row2][col2];\n    grid[row2][col2] = grid[row1][col1];\n    grid[row1][col1] = temp; //just highlight the squares but don't change the values\n\n    moves.push([row1, col1, grid[row1][col1], EC], [row2, col2, grid[row2][col2], EC]);\n  } // console.log(EN)\n\n}\n\nfunction solve(grid, moves, mutable) {\n  //check if any squares have 8 or 9 immutables\n  let immutableSquares = getImmutableSquares(mutable);\n\n  if (immutableSquares.length === 9) {\n    document.getElementById('Error').innerHTML = 'Trivial solution detected.';\n    return;\n  } //initialize random state with 9x9 squares complete\n\n\n  fillInZeros(grid); // Do moves and lower the temperature over time\n\n  let Tmax = 5;\n  let Tmin = 0.1;\n\n  for (let T = Tmax; T > Tmin; T = 0.9999 * T) {\n    move(grid, mutable, T, moves, immutableSquares);\n  }\n}\n\nexport default function simulatedAnnealing(grid) {\n  const mutable = []; //Prevents the algorithm from changing original node values\n\n  for (let row = 0; row < 9; row++) {\n    let temp = [];\n\n    for (let col = 0; col < 9; col++) {\n      if (grid[row][col] === 0 || grid[row][col] === '0') {\n        temp.push(true);\n      } else {\n        temp.push(false);\n      }\n    }\n\n    mutable.push(temp);\n  } //a list of the moves the algorithm will take\n\n\n  let moves = [];\n  solve(grid, moves, mutable);\n  return moves;\n}","map":{"version":3,"sources":["C:/Users/hp/Desktop/Sudoku/my-app/src/algorithms/hillClimbing.js"],"names":["Node","row","col","document","getElementById","pushToScreen","grid","value","shuffle","array","sort","Math","random","removeElement","arrayName","arrayElement","j","length","i","splice","fillInZeros","nums","squareRow","squareCol","square","pop","energy","E","seen","includes","push","getRandomInt","max","floor","getImmutableSquares","mutable","count","immutableSquares","getNode2","row1","row2","col1","col2","console","log","move","T","moves","node2","EC","temp","EN","solve","innerHTML","Tmax","Tmin","simulatedAnnealing"],"mappings":"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","sourcesContent":["\r\n\r\nfunction Node(row, col) {\r\n    return document.getElementById(`node-${row}-${col}`)\r\n} // Gets a node from the screen\r\n\r\nfunction pushToScreen(grid) {\r\n    for (let row = 0; row < 9; row++){\r\n        for (let col = 0; col <9; col++){\r\n            Node(row,col).value = grid[row][col]\r\n        }\r\n    }\r\n}\r\n\r\nfunction shuffle(array) {\r\n    array.sort(() => Math.random() - 0.5);\r\n  }\r\n\r\n  function removeElement(arrayName,arrayElement)\r\n {\r\n    for (var j = 0; j < arrayName.length; j++) {\r\n        for(var i=0; i<arrayName.length;i++ )\r\n        { \r\n            if(arrayName[i]===arrayElement)\r\n                arrayName.splice(i,1); \r\n        }\r\n    }\r\n  }\r\n\r\n//Fills in grid by rows\r\n// function fillInZeros(grid) {\r\n//     let nums= [1,2,3,4,5,6,7,8,9]\r\n\r\n//     for(let row = 0; row < 9; row++) {\r\n//         for (let col = 0; col < 9; col ++){\r\n//             if (grid[row][col] !== 0) {\r\n//                 nums[grid[row][col] - 1] = 0\r\n//             }\r\n//         }\r\n//         console.log(nums)\r\n//         removeElement(nums,0)\r\n//         console.log(nums)\r\n//         shuffle(nums)\r\n//         for (let col = 0; col < 9; col ++){\r\n//             if (grid[row][col] === 0) {\r\n//                 grid[row][col] = nums.pop()\r\n//             }\r\n//         }\r\n//         nums= [1,2,3,4,5,6,7,8,9]\r\n//     }\r\n// }\r\n\r\n//fills in grid by squares\r\nfunction fillInZeros(grid) {\r\n    let nums= [1,2,3,4,5,6,7,8,9]\r\n    let squareRow = 0\r\n    let squareCol = 0\r\n\r\n    for (let square = 0; square < 9; square++) {\r\n        for (let row = squareRow; row<3+squareRow; row++) {\r\n            for (let col = squareCol; col < 3+squareCol; col++) {\r\n                if (grid[row][col] !== 0) {\r\n                    nums[grid[row][col] - 1] = 0\r\n                }\r\n            }\r\n        }\r\n        removeElement(nums,0)\r\n        shuffle(nums)\r\n        for (let row = squareRow; row<3+squareRow; row++) {\r\n            for (let col = squareCol; col < 3+squareCol; col++) {\r\n                if (grid[row][col] === 0) {\r\n                    grid[row][col] = nums.pop()\r\n                }\r\n            }\r\n        }\r\n        nums= [1,2,3,4,5,6,7,8,9]\r\n        if (squareCol !== 6) {\r\n            squareCol = squareCol + 3\r\n        }\r\n        else {\r\n            squareCol = 0\r\n            squareRow = squareRow + 3\r\n        }\r\n    }\r\n\r\n    pushToScreen(grid)\r\n}\r\n\r\nfunction energy(grid) {\r\n    let E = 0\r\n    let seen = []\r\n\r\n    //check the rows\r\n    for (let row = 0; row < 9; row ++) {\r\n        for (let col = 0; col < 9; col ++) {\r\n            if (seen.includes(grid[row][col])) {\r\n                E = E + 1\r\n            }\r\n            else {\r\n                seen.push(grid[row][col])\r\n            }\r\n        }\r\n        seen = []\r\n    }\r\n    //check the columns\r\n    for (let col = 0; col < 9; col ++) {\r\n        for (let row = 0; row < 9; row ++) {\r\n            if (seen.includes(grid[row][col])) {\r\n                E = E + 1\r\n            }\r\n            else {\r\n                seen.push(grid[row][col])\r\n            }\r\n        }\r\n        seen = []\r\n    }\r\n\r\n    return E\r\n}\r\n\r\nfunction getRandomInt(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n  }\r\n\r\nfunction getImmutableSquares(mutable) {\r\n    let count = 0\r\n    let immutableSquares = []\r\n    let squareRow = 0\r\n    let squareCol = 0\r\n\r\n    for (let square = 0; square < 9; square++) {\r\n        for (let row = squareRow; row<3+squareRow; row++) {\r\n            for (let col = squareCol; col < 3+squareCol; col++) {\r\n                if (!mutable[row][col]){\r\n                    count++\r\n                }\r\n            }\r\n        }\r\n        \r\n        if (count >= 8) {\r\n            immutableSquares.push([squareRow,squareCol])\r\n        }\r\n\r\n        count = 0\r\n\r\n        if (squareCol !== 6) {\r\n            squareCol = squareCol + 3\r\n        }\r\n        else {\r\n            squareCol = 0\r\n            squareRow = squareRow + 3\r\n        }\r\n    }\r\n\r\n    return immutableSquares\r\n}\r\n\r\nfunction getNode2(mutable,row1,row2,col1,col2,squareRow,squareCol) {\r\n    if (!mutable[row2][col2]){\r\n        return getNode2(mutable, row1, getRandomInt(3)+squareRow, col1, getRandomInt(3)+squareCol, squareRow,squareCol)\r\n    }\r\n    else{\r\n        if (row1 === row2 && col1 === col2) {\r\n            return getNode2(mutable, row1, getRandomInt(3)+squareRow, col1, getRandomInt(3)+squareCol, squareRow,squareCol)\r\n        }\r\n        else{\r\n            console.log(row1,row2,col1,col2)\r\n            return {row2,col2}\r\n        }\r\n    }\r\n}\r\n\r\nfunction move (grid, mutable,T,moves, immutableSquares) {\r\n    //pick a random square\r\n    let squareRow = 3*getRandomInt(3)\r\n    let squareCol = 3*getRandomInt(3)\r\n    //to handle case where a full square in immutable\r\n    for (let i = 0; i < immutableSquares.length; i++){\r\n        while (squareRow === immutableSquares[i][0] && squareCol === immutableSquares[i][1]){\r\n            squareRow = 3*getRandomInt(3)\r\n            squareCol = 3*getRandomInt(3)\r\n        }\r\n    }\r\n\r\n    //pick a random 2 nodes in that square that aren't the same\r\n    let row1 = getRandomInt(3) + squareRow\r\n    let col1 = getRandomInt(3) + squareCol\r\n\r\n    let row2 = getRandomInt(3)+ squareRow\r\n    let col2 = getRandomInt(3)+ squareCol\r\n\r\n    while (!mutable[row1][col1]){\r\n        row1 = getRandomInt(3) + squareRow\r\n        col1 = getRandomInt(3) + squareCol\r\n    }\r\n    \r\n    let node2 = getNode2(mutable,row1,row2,col1,col2,squareRow,squareCol)\r\n    row2 = node2.row2\r\n    col2 = node2.col2\r\n\r\n    let EC = energy(grid)\r\n    if(EC === 0){\r\n        return\r\n    }\r\n\r\n    //swap their values\r\n    let temp = grid[row2][col2]\r\n    grid[row2][col2] = grid[row1][col1]\r\n    grid[row1][col1] = temp\r\n\r\n    let EN = energy(grid)\r\n    //If new energy is less, keep new grid\r\n    if (EN < EC) {\r\n        moves.push([row1,col1, grid[row1][col1],EN],[row2,col2,grid[row2][col2],EN])\r\n    }\r\n    else {\r\n        //otherwise swap back to keep original grid\r\n        temp = grid[row2][col2]\r\n        grid[row2][col2] = grid[row1][col1]\r\n        grid[row1][col1] = temp\r\n        //just highlight the squares but don't change the values\r\n        moves.push([row1,col1, grid[row1][col1],EC],[row2,col2,grid[row2][col2],EC])\r\n\r\n    }\r\n    // console.log(EN)\r\n}\r\n\r\nfunction solve(grid, moves, mutable) {\r\n    //check if any squares have 8 or 9 immutables\r\n    let immutableSquares = getImmutableSquares(mutable)\r\n    if (immutableSquares.length === 9){\r\n        document.getElementById('Error').innerHTML = 'Trivial solution detected.'\r\n        return\r\n    }\r\n\r\n    //initialize random state with 9x9 squares complete\r\n    fillInZeros(grid)\r\n\r\n    // Do moves and lower the temperature over time\r\n    let Tmax = 5\r\n    let Tmin = 0.1\r\n    for (let T = Tmax; T > Tmin; T = 0.9999*T){\r\n        move(grid,mutable,T,moves, immutableSquares)\r\n        \r\n    }\r\n}\r\n\r\nexport default function simulatedAnnealing (grid) {\r\n    const mutable = []\r\n\r\n    //Prevents the algorithm from changing original node values\r\n    for (let row = 0; row < 9; row ++) {\r\n        let temp = []\r\n        for (let col = 0; col < 9; col ++){\r\n            if (grid[row][col] === 0 || grid[row][col] === '0') {\r\n                temp.push(true)\r\n            }\r\n            else{\r\n                temp.push(false)\r\n            }\r\n        }\r\n        mutable.push(temp)\r\n    }\r\n\r\n    //a list of the moves the algorithm will take\r\n    let moves = []\r\n\r\n    solve(grid,moves, mutable)\r\n\r\n    return moves\r\n}"]},"metadata":{},"sourceType":"module"}
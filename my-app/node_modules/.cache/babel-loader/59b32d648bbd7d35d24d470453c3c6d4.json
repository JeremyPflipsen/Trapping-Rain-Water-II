{"ast":null,"code":"function Node(row,col){return document.getElementById(\"node-\".concat(row,\"-\").concat(col));}// Gets a node from the screen\n//this function is bound to App\n//so that it can call the functions in App\nexport default function visualizeInitialAlg(moves,solvable){//copy funtions from app so they can be called within helper\nvar setCurrIndex=this.setCurrIndex;var getMode=this.getMode;var setMode=this.setMode;//Check if matrix is too small\nif(!solvable){console.log(\"matrix too small\");document.getElementById(\"Error\").innerHTML=\"Matrix has no inner tiles. Total Water = 0.\";return;}var currIndex=this.state.currIndex;//how far we are along moves\n// console.log(\"In visualizeInitialAlg\", currIndex)\n//reset className of <div id=\"end\"><div> if it's still highlighted fromprevious run\ndocument.getElementById(\"end\").className=\"\";if(currIndex<1){//make initial border\nvar tempMoves=moves[0].currMoves;for(var i=0;i<tempMoves.length;i++){Node(tempMoves[i][0],tempMoves[i][1]).className=\"node-finish\";}//color corners\ntempMoves=moves[1].currMoves;for(var _i=0;_i<tempMoves.length;_i++){Node(tempMoves[_i][0],tempMoves[_i][1]).className=\"node-visited\";}//set About color\ndocument.getElementById(\"step1\").style.background=\"rgba(255, 0, 43, 0.3)\";//we finished step 0, so currIndex = 2 now\ncurrIndex=2;setTimeout(function(){helper(moves.slice(currIndex));//currIndex is 2\nreturn;},1000);}else{helper(moves.slice(currIndex));return;}//show rest of moves\nfunction helper(restMoves){//check if the pause button has been pressed\nif(getMode()===\"pause\"){//update currIndex\nsetCurrIndex(currIndex);return;}if(restMoves.length<1){document.getElementById(\"end\").style.background=\"rgba(255, 0, 43, 0.3)\";document.getElementById(\"step4\").style.background=\"rgba(255, 0, 43, 0)\";//update currIndex\nsetCurrIndex(currIndex);setMode(\"pause\");document.getElementById(\"playPause\").innerHTML=\"Play\";return currIndex;}//set About color for current step\ndocument.getElementById(\"step\".concat(restMoves[0].currStep+1)).style.background=\"rgba(255, 0, 43, 0.3)\";//reset About color from previous step\ndocument.getElementById(\"step\".concat(moves[currIndex-1].currStep+1)).style.background=\"rgba(0, 0, 0, 0)\";//set background opacity of last item to 0 to remove highlighting.\n//update total and waterLevel on screen\ndocument.getElementById(\"Error\").innerHTML=\"Total Water: \".concat(restMoves[0].total,\" \\n Water Level: \").concat(restMoves[0].waterLevel);var move;var prevMove;if(restMoves[0].currStep===1){//highlight lowest border node\nmove=restMoves[0].currMoves[0];Node(move[0],move[1]).className=\"node-start\";}else if(restMoves[0].currStep===2){//add new border node\nmove=restMoves[0].currMoves[0];Node(move[0],move[1]).className=\"node-finish\";}else if(restMoves[0].currStep===3){//remove highlighting of lowest border node from step 1\nprevMove=moves[currIndex-2].currMoves[0];Node(prevMove[0],prevMove[1]).className=\"node-finish\";for(var _i2=0;_i2<restMoves[0].currMoves.length;_i2++){//remove border node\nmove=restMoves[0].currMoves[_i2];Node(move[0],move[1]).className=\"node-visited\";}}//we finished another step so increment currIndex\ncurrIndex+=1;//recursive call\nsetTimeout(function(){helper(restMoves.slice(1));},300);}}","map":{"version":3,"sources":["C:/Users/hp/Desktop/Trapping-Rain-Water-II/my-app/src/algorithms/visualizeInitialAlg.js"],"names":["Node","row","col","document","getElementById","visualizeInitialAlg","moves","solvable","setCurrIndex","getMode","setMode","console","log","innerHTML","currIndex","state","className","tempMoves","currMoves","i","length","style","background","setTimeout","helper","slice","restMoves","currStep","total","waterLevel","move","prevMove"],"mappings":"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","sourcesContent":["function Node(row, col) {\r\n  return document.getElementById(`node-${row}-${col}`)\r\n} // Gets a node from the screen\r\n\r\n//this function is bound to App\r\n//so that it can call the functions in App\r\n\r\nexport default function visualizeInitialAlg(moves, solvable) {\r\n  //copy funtions from app so they can be called within helper\r\n  let setCurrIndex = this.setCurrIndex\r\n  let getMode = this.getMode\r\n  let setMode = this.setMode\r\n\r\n  //Check if matrix is too small\r\n  if (!solvable) {\r\n    console.log(\"matrix too small\")\r\n    document.getElementById(\"Error\").innerHTML =\r\n      \"Matrix has no inner tiles. Total Water = 0.\"\r\n    return\r\n  }\r\n\r\n  let currIndex = this.state.currIndex //how far we are along moves\r\n  // console.log(\"In visualizeInitialAlg\", currIndex)\r\n\r\n  //reset className of <div id=\"end\"><div> if it's still highlighted fromprevious run\r\n  document.getElementById(\"end\").className = \"\"\r\n\r\n  if (currIndex < 1) {\r\n    //make initial border\r\n    let tempMoves = moves[0].currMoves\r\n    for (let i = 0; i < tempMoves.length; i++) {\r\n      Node(tempMoves[i][0], tempMoves[i][1]).className = \"node-finish\"\r\n    }\r\n    //color corners\r\n    tempMoves = moves[1].currMoves\r\n    for (let i = 0; i < tempMoves.length; i++) {\r\n      Node(tempMoves[i][0], tempMoves[i][1]).className = \"node-visited\"\r\n    }\r\n\r\n    //set About color\r\n    document.getElementById(\"step1\").style.background = \"rgba(255, 0, 43, 0.3)\"\r\n\r\n    //we finished step 0, so currIndex = 2 now\r\n    currIndex = 2\r\n\r\n    setTimeout(() => {\r\n      helper(moves.slice(currIndex)) //currIndex is 2\r\n      return\r\n    }, 1000)\r\n  } else {\r\n    helper(moves.slice(currIndex))\r\n    return\r\n  }\r\n\r\n  //show rest of moves\r\n  function helper(restMoves) {\r\n    //check if the pause button has been pressed\r\n    if (getMode() === \"pause\") {\r\n      //update currIndex\r\n      setCurrIndex(currIndex)\r\n      return\r\n    }\r\n\r\n    if (restMoves.length < 1) {\r\n      document.getElementById(\"end\").style.background = \"rgba(255, 0, 43, 0.3)\"\r\n      document.getElementById(\"step4\").style.background = \"rgba(255, 0, 43, 0)\"\r\n      //update currIndex\r\n      setCurrIndex(currIndex)\r\n      setMode(\"pause\")\r\n      document.getElementById(\"playPause\").innerHTML = \"Play\"\r\n      return currIndex\r\n    }\r\n\r\n    //set About color for current step\r\n    document.getElementById(\r\n      `step${restMoves[0].currStep + 1}`\r\n    ).style.background = \"rgba(255, 0, 43, 0.3)\"\r\n    //reset About color from previous step\r\n    document.getElementById(\r\n      `step${moves[currIndex - 1].currStep + 1}`\r\n    ).style.background = \"rgba(0, 0, 0, 0)\" //set background opacity of last item to 0 to remove highlighting.\r\n\r\n    //update total and waterLevel on screen\r\n    document.getElementById(\r\n      \"Error\"\r\n    ).innerHTML = `Total Water: ${restMoves[0].total} \\n Water Level: ${restMoves[0].waterLevel}`\r\n\r\n    let move\r\n    let prevMove\r\n    if (restMoves[0].currStep === 1) {\r\n      //highlight lowest border node\r\n      move = restMoves[0].currMoves[0]\r\n      Node(move[0], move[1]).className = \"node-start\"\r\n    } else if (restMoves[0].currStep === 2) {\r\n      //add new border node\r\n      move = restMoves[0].currMoves[0]\r\n      Node(move[0], move[1]).className = \"node-finish\"\r\n    } else if (restMoves[0].currStep === 3) {\r\n      //remove highlighting of lowest border node from step 1\r\n      prevMove = moves[currIndex - 2].currMoves[0]\r\n      Node(prevMove[0], prevMove[1]).className = \"node-finish\"\r\n\r\n      for (let i = 0; i < restMoves[0].currMoves.length; i++) {\r\n        //remove border node\r\n        move = restMoves[0].currMoves[i]\r\n        Node(move[0], move[1]).className = \"node-visited\"\r\n      }\r\n    }\r\n\r\n    //we finished another step so increment currIndex\r\n    currIndex += 1\r\n\r\n    //recursive call\r\n    setTimeout(() => {\r\n      helper(restMoves.slice(1))\r\n    }, 300)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}